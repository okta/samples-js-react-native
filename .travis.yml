cache: false

install:
  - npm install -g yarn --ignore-dependencies
  - npm install -g react-native-cli
  - yarn install --frozen-lockfile

jobs:
  include:
    - language: node_js
      os: linux
      node_js: 14.15
      stage: Unit tests
      name: React Native
      script:
      - yarn test

    - language: objective-c
      os: osx
      osx_image: xcode12.2
      node_js: 14.15
      stage: UI tests Browser Sign-In 
      name: React Native
      script:
      - xcodebuild -workspace ios/browserSignIn.xcworkspace -scheme browserSignIn -configuration Debug -destination 'platform=iOS Simulator,OS=latest,name=iPhone 11' -sdk iphonesimulator clean test


